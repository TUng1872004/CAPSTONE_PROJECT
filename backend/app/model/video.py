from beanie import Document

from app.core.config import settings
from beanie import PydanticObjectId

class Video(Document):
    # video_id is autogenerated by beanie
    user_id: PydanticObjectId
    group_id: PydanticObjectId

    name: str = ""
    length: int = 0
    thumbnail: str = ""
    url: str = ""

    ingested: bool = False

    class Settings:
        name = settings.VIDEO_COLLECTION_NAME
        indexes = ["user_id", [("last_updated", -1)]]
